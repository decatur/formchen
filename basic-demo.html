<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>formchen Basic</title>
    <link rel="stylesheet" href="demo.css">
    <script src="./theme.js"></script>
</head>

<body>

    <h1><a href="index.html">formchen</a> / Basic Demo</h1>

    <form>
        <label>View Generated Patch <textarea class="patch"></textarea></label>
    </form>

    <div class="form-chen" id="ROOT">
        <label data-path="/plant" class="label"><span class="data-title"></span> <input class="data-value"></label>
        <label data-path="/reference" class="label"><span class="data-title"></span> <input class="data-value"></label>
        <label data-path="/observer" class="label"><span class="data-title"></span> <select
                class="data-value"></select></label>
        <label data-path="/start" class="label"><span class="data-title"></span> <input class="data-value"></label>
        <label data-path="/latitude" class="label"><span class="data-title"></span> <input class="data-value"></label>
        <label data-path="/longitude" class="label"><span class="data-title"></span> <input class="data-value"></label>
        <div data-path="/measurements">
            <label class="data-title"> <span class="data-unit"></span></label>
            <grid-chen class="data-value" style="display:block; height:200px"></grid-chen>
        </div>
        <label data-path="/isCompleted" class="label"><span class="data-title"></span> <input
                class="data-value"></label>

    </div>

</body>
<script nomodule>alert('Your browser is not supported')</script>
<script type="module">
    import * as demo from "./demo.js"

    const schema = {
        definitions: {
            "measurements": {
                title: 'Measurements',
                type: 'array',
                format: 'grid',
                items: {
                    type: 'array',  // tuple schema
                    items: [
                        { title: 'TimeStamp', width: 200, type: 'string', format: 'date-time', period: 'HOURS' },
                        { title: 'Age [d]', width: 100, type: 'number' },
                        { title: 'Weight [g]', width: 100, type: 'number' }
                    ]
                }
            }
        },
        pathPrefix: '',
        title: 'FieldObservation',
        type: 'object',
        properties: {
            plant: {
                title: 'Plant',
                description: 'The name of the plant',
                type: 'string'
            },
            reference: {
                title: 'Reference',
                type: 'string',
                format: 'uri'
            },
            observer: {
                title: 'Observer',
                type: 'string',
                enum: ['Frida Krum', 'Tilda Swift']
            },
            start: {
                title: 'Started',
                type: 'string',
                format: 'date-time'
            },
            latitude: {
                title: 'Latitude',
                type: 'number',
                unit: '[DD]',
                fractionDigits: 5
            },
            longitude: {
                title: 'Longitude',
                type: 'number',
                unit: '[DD]',
                fractionDigits: 5
            },
            measurements: {
                title: 'Daylight Measurements',
                $ref: '#/definitions/measurements'
            },
            isCompleted: {
                title: 'Is Completed',
                type: 'boolean'
            }
        }
    };

    const data = {
        plant: 'Rubus idaeus',
        reference: 'https://en.wikipedia.org/wiki/Rubus_idaeus',
        observer: 'Frida Krum',
        start: '2019-01-01T00:00Z',
        latitude: 41.40338,
        longitude: 2.17403,
        measurements: [
            ["2019-01-01T00:00Z", 0, 0],
            ["2019-02-01T00:00Z", 1, 2],
            ["2019-03-01T00:00Z", 2, 4]
        ],
        isCompleted: true
    };

    demo.init(schema, data);

</script>

</html>